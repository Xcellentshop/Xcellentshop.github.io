<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detecção de Modelo de Celular e Localização</title>
    <!-- Inclua as bibliotecas Mobile-Detect e geolocation-api -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Mobile-Detect/1.8.18/Mobile_Detect.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/geolocation-api/1.6.2/script.geolocation.min.js"></script>
</head>
<body>
    <div class="modelo-celular"></div>

    <script>
        // Função para exibir o modelo de celular e a cidade
        function exibirModeloECidade(modelo, cidade) {
            const mensagem = `Seu celular é um ${modelo} e você está em ${cidade}.`;
            document.querySelector(".modelo-celular").innerHTML = mensagem;
        }

        // Função para tratar erros na obtenção da localização
        function erroLocalizacao(error) {
            document.querySelector(".modelo-celular").innerHTML = "Não foi possível obter a localização.";
        }

        // Verifica se o dispositivo é um celular
        const detect = new MobileDetect(window.navigator.userAgent);
        if (detect.mobile()) {

            // Obtém o modelo do celular
            const modelo = detect.mobile();

            // Obtém a cidade do usuário usando geolocalização
            navigator.geolocation.getCurrentPosition(function(position) {
                const latitude = position.coords.latitude;
                const longitude = position.coords.longitude;

                // Use um serviço de geolocalização para obter a cidade com base nas coordenadas
                // Este é apenas um exemplo, você pode usar um serviço de geocodificação adequado
                // Substitua o URL abaixo pelo serviço de geolocalização real
                fetch(`https://seuservicodegeolocalizacao.com/?lat=${latitude}&lon=${longitude}`)
                    .then(response => response.json())
                    .then(data => {
                        const cidade = data.city; // Substitua "city" pelo campo correto em sua resposta
                        exibirModeloECidade(modelo, cidade);
                    })
                    .catch(erroLocalizacao);
            }, erroLocalizacao);
        } else {
            // O dispositivo não é um celular
            document.querySelector(".modelo-celular").innerHTML = "O dispositivo não é um celular.";
        }
    </script>
</body>
</html>
